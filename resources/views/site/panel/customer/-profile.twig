{% extends 'site.main.twig' %}

{% block content %}
	<section class="page-header page-header-classic">
        <div class="container">
            <div class="row">
                <div class="col p-static">
                    <h1 data-title-border>Meus Dados</h1>
                </div>
            </div>
        </div>
    </section>
    <div class="container py-2">
        <div class="row">
            <div class="col-lg-3 mt-4 mt-lg-0">
                {% include 'site.panel.customer.menu' %}
            </div>
            <div class="col-lg-9">
                <h4>Dados Pessoais</h4>
                <form role="form" class="needs-validation" action="{{ route('panel.profile.edit') }}" method="post">
                    <input type="hidden" name="_token" value="{{ csrf_token() }}">
                    <div class="form-group row">
                        <label class="col-lg-3 font-weight-bold text-dark col-form-label form-control-label text-2">Nome</label>
                        <div class="col-lg-9">
                            <input name="name" class="form-control" type="text" value="{{ auth_user().profile.name }}" required="required">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-lg-3 font-weight-bold text-dark col-form-label form-control-label text-2">Sobrenome</label>
                        <div class="col-lg-9">
                            <input name="last_name" class="form-control" type="text" value="{{ auth_user().profile.last_name }}" required="required">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-lg-3 font-weight-bold text-dark col-form-label form-control-label text-2">Data de Nascimento</label>
                        <div class="col-lg-9">
                            <input name="birth_date" class="form-control" type="date" value="{{ auth_user().profile.birth_date }}" required="required">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-lg-3 font-weight-bold text-dark col-form-label form-control-label text-2">E-mail</label>
                        <div class="col-lg-9">
                            <input name="email" class="form-control" type="email" value="{{ auth_user().email }}" required="required" readonly>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-lg-3 font-weight-bold text-dark col-form-label form-control-label text-2">Telefone</label>
                        <div class="col-lg-9">
                            <input name="phone" id="phone" class="form-control" type="text" value="{{ auth_user().profile.phone }}" required="required">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-lg-3 font-weight-bold text-dark col-form-label form-control-label text-2">Celular</label>
                        <div class="col-lg-9">
                            <input name="cellphone" id="cellphone" class="form-control" type="text" value="{{ auth_user().profile.cellphone }}" required="required">
                        </div>
                    </div>
                    <hr/>
                    <h4>Alterar Senha</h4>
                    <p>Preencha somente se desejar alterar a senha.</p>
                    <div class="form-group row">
                        <label class="col-lg-3 font-weight-bold text-dark col-form-label form-control-label text-2">Senha Atual</label>
                        <div class="col-lg-9">
                            <input name="old_password" class="form-control" type="password">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-lg-3 font-weight-bold text-dark col-form-label form-control-label text-2">Nova Senha</label>
                        <div class="col-lg-9">
                            <input name="password" class="form-control" type="password">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-lg-3 font-weight-bold text-dark col-form-label form-control-label text-2">Confirmação da Senha</label>
                        <div class="col-lg-9">
                            <input name="password_confirmation" class="form-control" type="password">
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="form-group col-lg-9">
                        </div>
                        <div class="form-group col-lg-3">
                            <input type="submit" value="Salvar" class="btn btn-primary btn-modern float-right" data-loading-text="Loading...">
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock content %}
{% block footer %}
    <script type="text/javascript" src="/general/components/jquery-mask-plugin/src/jquery.mask.js"></script>
    <script type="text/javascript">
        $(function() {
            $('#phone').mask('(00) 0000-0000');
            $('#cellphone').mask('(00) 00000-0000');
        });
    </script>
{% endblock %}